{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/Phones.js","App.js","index.js"],"names":["Filter","handleFilterChange","value","onChange","PersonForm","handleNameChange","newName","handlePhoneChange","newPhone","addPersonIntoPhonebook","type","onClick","Person","person","handleDeletePerson","name","number","Persons","persons","map","id","key","Notification","notification","message","is_error","style","className","baseURL","axios","get","then","res","data","contact","post","delete","put","App","useState","setPersons","setNewName","setNewPhone","filterWord","setFilter","setNotification","useEffect","phonesService","filteredPersons","filter","indexOf","event","target","preventDefault","trim","replace","phone","newPerson","findPerson","find","console","log","window","confirm","returnedPerson","setTimeout","concat","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d4e31278.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({handleFilterChange, value}) => {\r\n    return (\r\n    <div>\r\n        filter shown with: <input onChange={handleFilterChange} value={value}/>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst PersonForm = ({handleNameChange, newName, handlePhoneChange, newPhone, addPersonIntoPhonebook}) => {\r\n    return (\r\n        <form>\r\n        <div>\r\n          name: <input onChange={handleNameChange} value={newName}/>\r\n        </div>\r\n        <div>number: <input onChange={handlePhoneChange} value={newPhone}/></div>\r\n        <div>\r\n          <button type=\"submit\" onClick={addPersonIntoPhonebook}>add</button>\r\n        </div>\r\n      </form>\r\n    );\r\n};\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Person = ({person, handleDeletePerson}) => {\r\n    return (\r\n        <div>\r\n            {person.name} {person.number} <button onClick={handleDeletePerson}>delete</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Person;","import React from 'react';\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, handleDeletePerson}) => {\r\n    return (\r\n        persons.map(person => <Person handleDeletePerson={()=>handleDeletePerson(person.id, person.name)} person={person} key={person.id}/>)\r\n    );\r\n};\r\n\r\nexport default Persons;","import React from 'react';\r\nimport './Notification.css'\r\n\r\nconst Notification = ({notification}) => {\r\n    const {message, is_error} = notification\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    const style = is_error ? 'error-notification': 'notification'\r\n    return (\r\n        <div className={style}>\r\n            {message}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Notification;","import axios from 'axios'\r\nconst baseURL = '//localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n    const req=axios.get(baseURL)\r\n    return req.then(res => res.data)\r\n};\r\n\r\nconst create = (contact) => {\r\n    const req=axios.post(baseURL, contact)\r\n    return req.then(res => res.data)\r\n};\r\n\r\nconst remove = (id) => {\r\n    const req=axios.delete(baseURL+'/'+id)\r\n    return req.then(res => res.data)\r\n};\r\n\r\nconst replace = (id, contact) => {\r\n    const req=axios.put(baseURL+'/'+id, contact)\r\n    return req.then(res => res.data)\r\n};\r\n\r\nexport default {getAll, create, remove, replace};","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport phonesService from './services/Phones'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newPhone, setNewPhone ] = useState('')\r\n  const [ filterWord, setFilter ] = useState('')\r\n  const [ notification, setNotification] = useState({message: null, is_error: false})\r\n\r\n  useEffect( () =>{\r\n    phonesService.getAll()\r\n    .then(persons => {\r\n      setPersons(persons)\r\n    })\r\n  } ,[])\r\n\r\n  const filteredPersons = filterWord ?\r\n        persons.filter(person => ~person.name.indexOf(filterWord))\r\n        : persons\r\n  \r\n  const handleNameChange = (event) =>{\r\n    setNewName(event.target.value)\r\n  }\r\n  const handlePhoneChange = (event) =>{\r\n    setNewPhone(event.target.value)\r\n  }\r\n  const handleFilterChange = (event) =>{\r\n    setFilter(event.target.value)\r\n  }\r\n  const addPersonIntoPhonebook = (event) => {\r\n      event.preventDefault()\r\n      const name = newName.trim().replace(/\\s\\s+/g, ' ');\r\n      const phone = newPhone.trim().replace(/\\s\\s+/g, '');\r\n      if (name === '' || phone ==='') return\r\n      const newPerson = {name: name, number: phone}\r\n      const findPerson = persons.find(person => person.name === name)\r\n      console.log(findPerson)\r\n      if (findPerson) {\r\n          const replaceConfirm = window.confirm(`${name} is already added to phonebook. Replace the old number with a new one?`)\r\n          if (replaceConfirm){\r\n            phonesService.replace(findPerson.id, newPerson)\r\n            .then(returnedPerson => {\r\n              setPersons(persons.map(person => person.id!==findPerson.id?person:returnedPerson))\r\n              setNotification({message: `Changed number for ${returnedPerson.name}`})\r\n              setTimeout(() =>{setNotification({message:null})}, 3000)\r\n            })\r\n          } else {\r\n            return\r\n          }\r\n      } else {\r\n        phonesService.create(newPerson)\r\n        .then(returnedPerson => {\r\n          setNewName('')\r\n          setNewPhone('')\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNotification({message:`Added ${returnedPerson.name}`})\r\n          setTimeout(() =>{setNotification({message:null})}, 3000)\r\n        })\r\n      }\r\n  }\r\n\r\n  const handleDeletePerson = (id, name) => {\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n    phonesService.remove(id)\r\n      .then(() => {\r\n        setPersons(persons.filter(person => person.id!==id))\r\n        setNotification({message: `Deleted ${name}`})\r\n        setTimeout(() =>{setNotification({message:null})}, 3000)\r\n      })\r\n      .catch(() => {\r\n        setPersons(persons.filter(person => person.id!==id))\r\n        setNotification({message: `Information of ${name} has already been removed from server`, is_error: true})\r\n        setTimeout(() =>{setNotification({message:null})}, 3000)\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Notification notification={notification}/>\r\n      <h2>Phonebook</h2>\r\n      <Filter handleFilterChange={handleFilterChange} value={filterWord}/>\r\n      <h3>add a new</h3>\r\n      <PersonForm  handleNameChange={handleNameChange} newName={newName}\r\n                    handlePhoneChange={handlePhoneChange} newPhone={newPhone}\r\n                    addPersonIntoPhonebook={addPersonIntoPhonebook}/>\r\n      \r\n      <h2>Numbers</h2>\r\n      <Persons persons={filteredPersons} handleDeletePerson={handleDeletePerson}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}